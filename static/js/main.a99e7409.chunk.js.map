{"version":3,"sources":["utils/api.js","images/logo_w.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","utils/auth.js","components/Register.js","components/ProtectedRoute.js","images/success.svg","images/error.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","url","token","this","_url","_token","result","ok","json","Promise","reject","status","fetch","method","headers","authorization","then","_checkStatus","name","about","body","JSON","stringify","link","avatar","cardId","isLiked","removeLike","addLike","Header","props","className","src","logo","alt","path","to","exact","userEmail","onClick","onSignOut","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","likes","some","i","cardLikeButtonClassName","type","onCardLike","length","onCardDelete","Main","onEditAvatar","onEditProfile","aria-label","onAddPlace","cards","map","onCardClick","Footer","Date","getFullYear","PopupWithForm","isOpen","onClose","title","action","onSubmit","id","autoComplete","children","placeholder","ImagePopup","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","value","onChange","target","required","minLength","maxLength","EditAvatarPopup","refAvatar","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","Login","email","password","userAuthorisation","setUserAuthorisation","handleChange","onLogin","BASE_URL","_handleResponse","res","Register","userRegistration","setUserRegistration","onRegister","ProtectedRoute","Component","component","isLoggedIn","InfoTooltip","isSuccess","success","error","App","setCards","getCards","catch","console","log","setCurrentUser","getUserInfo","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","selectedCard","setSelectedCard","closeAllPopups","setIsTooltipOpen","isRegistrationSuccessful","setIsRegistrationSuccessful","isTooltipOpen","history","useHistory","setUserEmail","localStorage","getItem","onTokenCheck","setIsLoggedIn","auth","data","push","Provider","removeItem","setItem","cardData","like","newCard","c","deleteCard","filter","setUserInfo","setNewCard","updateAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a99e7409.chunk.js","sourcesContent":["class Api {\n  constructor({ url, token }) {\n    this._url = url;\n    this._token = token;\n  }\n\n  _checkStatus(result) {\n    if (result.ok) {\n      return result.json();\n    } else {\n      return Promise.reject(`Ошибка: ${result.status}`)\n    }\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      method: 'GET',\n      headers: {\n        authorization: this._token\n      }\n    })\n      .then((result) => {\n        return this._checkStatus(result);\n      })\n  }\n\n  setUserInfo({ name, about }) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name, about\n      })\n    })\n      .then((result) => {\n        return this._checkStatus(result);\n      })\n  }\n\n  getCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: {\n        authorization: this._token\n      }\n    })\n      .then((result) => {\n        return this._checkStatus(result);\n      })\n  }\n\n  setNewCard({ name, link }) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: name,\n        link: link\n      })\n    })\n      .then((result) => {\n        return this._checkStatus(result);\n      })\n  }\n\n  updateAvatar(avatar) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ avatar: avatar })\n    })\n      .then((result) => {\n        return this._checkStatus(result);\n      })\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n    })\n      .then((result) => {\n        return this._checkStatus(result);\n      })\n  }\n\n  addLike(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n    })\n      .then((result) => {\n        return this._checkStatus(result);\n      })\n  }\n\n  removeLike(cardId) {\n    return fetch(`${this._url}/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      },\n    })\n      .then((result) => {\n        return this._checkStatus(result);\n      })\n  }\n\n  like(cardId, isLiked) {\n    return isLiked ? this.removeLike(cardId) : this.addLike(cardId);\n  }\n}\n\nconst api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-24',\n  token: '8c6e6a0b-c97b-41fa-9ce9-e79b26e708e8'\n});\n\nexport default api;\n\n\n\n","export default __webpack_public_path__ + \"static/media/logo_w.1f1e9591.svg\";","import React from 'react';\r\nimport logo from '../images/logo_w.svg';\r\nimport { Route, Switch, Link } from 'react-router-dom';\r\n\r\n\r\nfunction Header(props) {   \r\n\r\n    return (\r\n        <header className=\"header\">\r\n            <a className=\"header__logo\"><img src={logo} alt=\"Логотип Место\" /></a>\r\n            <div className=\"header__menu\">\r\n                <Switch>\r\n                    <Route path=\"/sign-up\"><Link className=\"header__item\" to=\"/sign-in\">Вход</Link></Route>\r\n                    <Route path=\"/sign-in\"><Link className=\"header__item\" to=\"/sign-up\">Регистрация</Link></Route>\r\n                    <Route exact path=\"/\">\r\n                        <p className=\"header__email\">{props.userEmail}</p>\r\n                        <button className=\"header__item\" onClick={props.onSignOut}>Выйти</button>\r\n                    </Route>\r\n                </Switch>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;","import React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Card(props) {\r\n  \r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n\r\n  const cardDeleteButtonClassName = (\r\n    `elements__remove-button ${isOwn ? '' : 'elements__remove-button_hidden'}`\r\n  );\r\n\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n\r\n  const cardLikeButtonClassName = (`elements__like-button ${isLiked ? 'elements__like-button_active' : ' '}`);\r\n\r\n  function handleLikeClick () {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleDeleteClick () {\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n  function handleCardClick () {\r\n    props.onClick(props.card);\r\n  }\r\n\r\n  return (\r\n    <div className=\"elements__card\">\r\n      <img className=\"elements__image\" src={props.card.link} alt={`фотография ${props.card.name}`} onClick={handleCardClick} />\r\n      <div className=\"elements__title-wrapper\">\r\n        <h2 className=\"elements__title\">{props.card.name}</h2>\r\n        <div className=\"elements__like\">\r\n          <button type=\"button\" className={`${cardLikeButtonClassName}`} onClick={handleLikeClick}></button>\r\n          <span className=\"elements__total-like\">{props.card.likes.length}</span>\r\n        </div>\r\n      </div>\r\n      <button className={`${cardDeleteButtonClassName}`} onClick={handleDeleteClick}></button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;","import React from 'react';\nimport Card from './Card.js';\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main>\n      <section className=\"profile\">\n        <button type=\"button\" className=\"profile__avatar-button\" onClick={props.onEditAvatar} />\n        <div className=\"profile__info\">\n          <img className=\"profile__info-img\" src={currentUser.avatar} alt=\"Фотография пользователя\" />\n          <div className=\"profile__info-text\">\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\n            <p className=\"profile__subtitle\">{currentUser.about}</p>\n            <button className=\"profile__info-text-button\" type=\"button\" onClick={props.onEditProfile} aria-label=\"Изменение данных пользователя\" />\n          </div>\n        </div>\n        <button className=\"profile__button\" type=\"button\" onClick={props.onAddPlace} aria-label=\"Добавление новой карточки\" />\n      </section>\n      <div className=\"elements\">\n        {props.cards.map((card) => (<Card key={card._id} card={card} onClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />))}\n      </div>\n    </main>\n  );\n}\n\nexport default Main;","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; {new Date().getFullYear()} Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;","function PopupWithForm(props) {\n\n  return (\n    <div className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_open' : ''}`}>\n      <div className=\"popup__overlay\" onClick={props.onClose} />\n      <div className=\"popup__container\">\n        <button className=\"popup__close\" type=\"button\" title=\"Закрыть окно\" aria-label=\"Закрыть форму\" onClick={props.onClose} />\n        <form action=\"action\" className=\"popup__form\" onSubmit={props.onSubmit} name={props.name} id={`${props.name}-form`} autoComplete=\"off\" >\n          <fieldset className=\"popup__field\">\n            <legend className=\"popup__header\">{props.title}</legend>\n            {props.children}\n            <button className=\"popup__btn popup__btn_save\" type=\"submit\" aria-label=\"Кнопка сохранить\">{props.placeholder}</button>\n          </fieldset>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;","function ImagePopup(props) {\r\n  \r\n  return (\r\n    <div className={`popup popup_type_image ${props.card ? 'popup_open' : ''}`}>\r\n      <div className=\"popup__overlay\" onClick={props.onClose} />\r\n      <div className=\"popup__container popup__container_type_image\">\r\n        <figure className=\"popup__figure\">\r\n          <img className=\"popup__image\" src={props.card?.link} alt={`картинка ${props.card?.name}`} />\r\n          <figcaption className=\"popup__caption\">{props.card && props.card.name}</figcaption>\r\n        </figure>\r\n        <button type=\"button\" className=\"popup__close popup__close_image\" onClick={props.onClose} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\n\r\nfunction EditProfilePopup(props) {\r\n  \r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, props.isOpen]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }  \r\n\r\n  const handleChangeName = (e) => {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  const hanldeChangeDescription = (e) => {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"edit\" title=\"Редактировать профиль\" placeholder=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\r\n      <div className=\"popup__input-container\">\r\n        <input className=\"popup__input popup__input_field_name\" type=\"text\" name=\"username\" value={name || ''} onChange={handleChangeName} required id=\"name-input\" placeholder=\"Имя пользователя\" minLength={2} maxLength={40} />\r\n        <span className=\"error\" id=\"name-input--error\" />\r\n      </div>\r\n      <div className=\"popup__input-container\">\r\n        <input className=\"popup__input popup__input_field_caption\" type=\"text\" placeholder=\"Профессия\" name=\"userjob\" value={description || ''} onChange={hanldeChangeDescription} required id=\"work-input\" minLength={2} maxLength={200} />\r\n        <span className=\"error\" id=\"work-input--error\" />\r\n      </div>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction EditAvatarPopup(props) {\n\n    const refAvatar = React.useRef();\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        props.onUpdateAvatar(\n            refAvatar.current.value\n        );\n    }\n\n    return (\n        <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" placeholder=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n            <input className=\"popup__input popup__input_title_avatar\" id=\"avatar-input\" type=\"url\" name=\"avatar\" ref={refAvatar} placeholder=\"Ссылка на аватар\" autoComplete=\"on\" required />\n            <span className=\"error span-avatar\" id=\"avatar-input--error\" />\n        </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction AddPlacePopup(props) {    \r\n    const [name, setName] = React.useState();\r\n    const [link, setLink] = React.useState();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddPlace({name, link})\r\n    }\r\n\r\n    function editName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function editLink(e) {\r\n        setLink(e.target.value);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm onSubmit={handleSubmit} name=\"cards\" title=\"Новое место\" placeholder=\"Создать\" isOpen={props.isOpen} onClose={props.onClose}>\r\n            <div className=\"popup__input-container\">\r\n                <input className=\"popup__input popup__input_card_name\" value={name} onChange={editName} type=\"text\" placeholder=\"Название\" name=\"name\" required id=\"card-input\" minLength={2} maxLength={30} />\r\n                <span className=\"error\" id=\"card-input--error\" />\r\n            </div>\r\n            <div className=\"popup__input-container\">\r\n                <input className=\"popup__input popup__input_card_caption\" value={link} onChange={editLink} type=\"url\" placeholder=\"Ссылка на картинку\" name=\"link\" required id=\"url-input\" />\r\n                <span className=\"error\" id=\"url-input--error\" />\r\n            </div>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React, { useState, useEffect } from 'react';\r\n\r\nfunction Login(props) {\r\n\r\n  const [userAuthorisation, setUserAuthorisation] = useState({ email: '', password: ''});  \r\n  \r\n  function handleChange(e) {\r\n    const { name, value } = e.target;\r\n    setUserAuthorisation({ ...userAuthorisation, [name]: value })\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    const { email, password } = userAuthorisation\r\n    if (!email || !password) {\r\n      return;\r\n    }\r\n    props.onLogin(email, password)\r\n  }\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <h2 className=\"login__title\">Вход</h2>\r\n      <form className=\"login__form\" onSubmit={handleSubmit}>\r\n        <input type=\"email\" className=\"login__input login__input_email\" placeholder=\"Email\" name=\"email\" type=\"email\" value={userAuthorisation.email} onChange={handleChange} required></input>\r\n        <input type=\"password\" className=\"login__input login__input_password\" name=\"password\" type=\"password\" placeholder=\"Пароль\" value={userAuthorisation.password} onChange={handleChange} required></input>\r\n        <button type=\"submit\" className=\"login__button\">Войти</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login;","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({\r\n      'email': email,\r\n      'password': password\r\n    })\r\n  })\r\n    .then(_handleResponse)\r\n}\r\n\r\nexport const login = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({\r\n      'email': email,\r\n      'password': password\r\n    })\r\n  })\r\n  .then(_handleResponse)\r\n  .then((data) => {\r\n    if (data.token) {\r\n      localStorage.setItem('jwt', data.token);\r\n      return data;\r\n    }\r\n  })    \r\n}\r\n\r\nexport const checkToken = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n    .then(_handleResponse);\r\n}\r\n\r\nfunction _handleResponse(res) {\r\n  if (!res.ok) {\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n  return res.json();\r\n}\r\n\r\n","import React, { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport auth from '../utils/auth.js';\r\n\r\nfunction Register(props) {\r\n\r\n    const [userRegistration, setUserRegistration] = useState({ email: \"\", password: \"\" });\r\n\r\n    function handleChange(e) {\r\n        const { name, value } = e.target\r\n        setUserRegistration({ ...userRegistration, [name]: value })\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n        const { email, password } = userRegistration\r\n        props.onRegister(email, password)\r\n    }\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <h2 className=\"login__title\">Регистрация</h2>\r\n            <form className=\"login__form\" onSubmit={handleSubmit}>\r\n                <input type=\"email\"\r\n                    name=\"email\"\r\n                    className=\"login__input login__input_email\"\r\n                    placeholder=\"Email\" onChange={handleChange}\r\n                    value={userRegistration.email}\r\n                    required></input>\r\n                <input type=\"password\"\r\n                    name=\"password\"\r\n                    className=\"login__input login__input_password\"\r\n                    placeholder=\"Пароль\" onChange={handleChange}\r\n                    value={userRegistration.password}\r\n                    required></input>\r\n                <button className=\"login__button\">Зарегистрироваться</button>\r\n            </form>\r\n            <div className=\"login__signin\">\r\n                <p>Уже зарегистрированы?</p>\r\n                <Link to=\"/sign-in\">Войти</Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register;","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.isLoggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","import React from 'react';\r\nimport success from '../images/success.svg';\r\nimport error from '../images/error.svg';\r\n\r\nfunction InfoTooltip(props) {\r\n    return (\r\n        <div className={`popup popup__image ${props.isOpen ? 'popup_open' : ''}`}>\r\n            <div className=\"popup__container  popup__container_type_result-image\">\r\n                <button className=\"popup__close\" type=\"button\" aria-label=\"закрыть\" onClick={props.onClose} ></button>\r\n                <div className=\"popup__result\">\r\n                    <img src={props.isSuccess ? success : error} alt={props.isSuccess ? 'Успешно' : 'Неудачно'} className=\"popup__image\" />\r\n                    <div className=\"popup__text\">\r\n                        <p>{props.isSuccess ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InfoTooltip","import api from '../utils/api.js';\r\nimport Header from './Header.js';\r\nimport Main from './Main.js';\r\nimport Footer from './Footer.js';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport ImagePopup from './ImagePopup.js';\r\nimport React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\nimport EditProfilePopup from './EditProfilePopup.js';\r\nimport EditAvatarPopup from './EditAvatarPopup.js';\r\nimport AddPlacePopup from './AddPlacePopup.js';\r\nimport { Route, Switch, useHistory } from 'react-router-dom';\r\nimport Login from './Login.js';\r\nimport Register from './Register.js';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport * as auth from '../utils/auth.js';\r\n\r\nfunction App() {\r\n\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    api.getCards()\r\n      .then((res) => { setCards(res) })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      }\r\n    )}, []\r\n  );\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    api.like(card._id, isLiked).then((newCard) => {\r\n      setCards((cards) => cards.map((c) => c._id === card._id ? newCard : c));\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n    })\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCard(card._id)\r\n      .then(() => {\r\n        setCards(cards.filter((i) => i !== card));\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      })\r\n  }\r\n\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n\r\n  React.useEffect(() => {\r\n    api.getUserInfo()\r\n      .then((res) => { setCurrentUser(res) })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      })\r\n  }, []\r\n  );\r\n\r\n  function handleUpdateUser(data) {\r\n    api.setUserInfo(data)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n      })\r\n      .then(() => {\r\n        setIsEditProfilePopupOpen(false);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      })\r\n  }\r\n\r\n  function handleUpdateAvatar(data) {\r\n    api.updateAvatar(data)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n      })\r\n      .then(() => {\r\n        setIsEditAvatarPopupOpen(false);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      })\r\n  }\r\n\r\n  function handleAddPlaceSubmit(data) {\r\n    api.setNewCard(data)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n      })\r\n      .then(() => {\r\n        setIsAddPlacePopupOpen(false)\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      })\r\n  }\r\n\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  const [selectedCard, setSelectedCard] = React.useState(false);\r\n  function handleCardClick(cardData) {\r\n    setSelectedCard(cardData);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setSelectedCard(false);\r\n    setIsTooltipOpen(false);\r\n  }\r\n\r\n  const [isRegistrationSuccessful, setIsRegistrationSuccessful] = React.useState(true);\r\n  const [isTooltipOpen, setIsTooltipOpen] = React.useState(false);\r\n  const history = useHistory();\r\n\r\n  function onRegister(email, password) {\r\n    auth.register(email, password)\r\n      .then(() => {\r\n        setIsRegistrationSuccessful(true);\r\n        history.push('/sign-in');\r\n      })\r\n      .catch(() => setIsRegistrationSuccessful(false))\r\n      .then(() => setIsTooltipOpen(true));\r\n  }\r\n  \r\n  const [userEmail, setUserEmail] = React.useState('');\r\n  \r\n  React.useEffect(() => {\r\n    const token = localStorage.getItem('jwt')\r\n    if (token === null) { return }\r\n    onTokenCheck(token)\r\n  }, []\r\n  );\r\n\r\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\r\n\r\n  function onTokenCheck(token) { \r\n    auth.checkToken(token)\r\n      .then(res => {\r\n        setIsLoggedIn(res.data != null)\r\n        setUserEmail(res.data.email)\r\n        history.push('/')\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      })\r\n  }\r\n\r\n  function onLogin(email, password) {\r\n    auth.login(email, password)\r\n      .then(() => {\r\n        setIsLoggedIn(true);\r\n        history.push('/');\r\n        onTokenCheck();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      })    \r\n  }  \r\n\r\n  function handleSignOut() {\r\n    localStorage.removeItem('jwt');\r\n    setIsLoggedIn(false)\r\n  } \r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"App body-background\">\r\n        <div className=\"page-container\">\r\n          <Header userEmail={userEmail} onSignOut={handleSignOut} />\r\n          <Switch>\r\n\r\n            <Route path='/sign-up'>\r\n              <Register onRegister={onRegister} />\r\n            </Route>\r\n\r\n            <Route path='/sign-in'>\r\n              <Login onLogin={onLogin} onTokenCheck={onTokenCheck} />\r\n            </Route>\r\n\r\n            <ProtectedRoute exact path=\"/\"\r\n              isLoggedIn={isLoggedIn}\r\n              component={Main}\r\n              cards={cards}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onEditProfile={handleEditProfileClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              onCardClick={handleCardClick}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleCardDelete}\r\n            >            \r\n\r\n            </ProtectedRoute>\r\n          </Switch>\r\n          <Footer />\r\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\r\n\r\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\r\n\r\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\r\n\r\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n\r\n          <PopupWithForm name=\"delete\" title=\"Вы уверены?\" placeholder=\"Да\" />\r\n\r\n          <InfoTooltip isOpen={isTooltipOpen} isSuccess={isRegistrationSuccessful} onClose={closeAllPopups} />\r\n        </div>\r\n      </div>\r\n    </ CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}